{% extends TEMPLATE_BASE %}

{% block title %}Log In to View Election{% endblock %}
{% block content %}
<h2 class="trans-login-title">Private Election - Please Log In</h2>

<p class="trans-login-info">
This election, with fingerprint <tt>{{election.hash}}</tt>, is private, and can only be viewed by eligible voters.
</p>

{% with cast_ballot="0" %}
{% include "_castconfirm_password.html" %}
{% endwith %}

<script>
$(document).ready(function() {
    var lang = localStorage.getItem('helios_language') || 'de';
    if (lang === 'en') {
        $('.trans-login-title').text('Private Election - Please Log In');
        $('.trans-login-info').html('This election, with fingerprint <tt>{{election.hash}}</tt>, is private, and can only be viewed by eligible voters.');
        
        // Translations for _castconfirm_password.html
        $('.trans-voter-id-label').text('Voter ID:');
        $('.trans-password-label').text('Password:');
        $('.trans-login-button').val('Login');
        $('.trans-cast-button').val('Authenticate & Cast Ballot');
        $('.trans-bad-login').text('Your Voter ID or Password was incorrect. This is not your HfMDK account login. Please try again using the credentials from the email!');
        $('.trans-help-text-1').html('You can find your Voter ID and Password in the email you received.<br>If you cannot find your credentials, please contact AStA at: <tt>' + '{{election.help_email|escapejs}}' + '</tt>.');
        $('.trans-help-text-2').text('You can cast as many ballots as you want. Only the last one counts.');
    } else {
        // German defaults (if needed, though HTML is already German/English mixed? Wait, the HTML above is English!)
        // The original file had English text. I should probably translate it to German if lang is 'de'.
        $('.trans-login-title').text('Private Wahl - Bitte einloggen');
        $('.trans-login-info').html('Diese Wahl mit dem Fingerabdruck <tt>{{election.hash}}</tt> ist privat und kann nur von wahlberechtigten Personen eingesehen werden.');
    }
});
</script>

{% endblock %}
